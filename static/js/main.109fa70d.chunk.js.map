{"version":3,"sources":["components/Filter/Filter.js","data/variables.js","components/UsersList/UsersList.js","components/Users/Users.js","components/Editor/Editor.js","components/Welcome/Welcome.js","components/App/App.js","index.js"],"names":["Option","Select","Filter","selectedGender","setSelectedGender","style","width","margin","value","onChange","URL","patchRequestOptions","method","UsersList","defaultGender","useState","users","setUsers","page","setPage","slice","usersToShow","setUsersToShow","setCurUser","useContext","AppContext","useEffect","requestURL","fetch","then","response","json","data","catch","err","console","error","length","to","onRow","record","onClick","event","cursor","columns","title","dataIndex","size","dataSource","pagination","currentPage","total","showTotal","pageSize","defaultCurrent","Users","className","Editor","isUpdated","setIsUpdated","curUser","Form","useForm","form","labelCol","xs","span","sm","wrapperCol","name","initialValues","username","email","gender","onFinish","id","status","requiredMark","Item","label","shouldUpdate","rules","required","message","offset","type","htmlType","Welcome","createContext","App","Provider","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.109fa70d.chunk.js","sourcesContent":["import { Select } from 'antd';\nimport 'antd/dist/antd.css';\n\nconst { Option } = Select;\n\nexport default function Filter({ selectedGender, setSelectedGender }) {\n  function handleChange(value) {\n    setSelectedGender(value);\n  }\n\n  return (\n    <Select style={{ width: 120, margin: 20 }} value={selectedGender} onChange={handleChange}>\n      <Option value=\"all\">all</Option>\n      <Option value=\"male\">male</Option>\n      <Option value=\"female\">female</Option>\n    </Select>\n  );\n}\n","export const URL = 'https://gorest.co.in/public/v1/users';\nexport const API_KEY = 'e61ef7cbbdaa705f903458c748800c4c5de3ec2ccd30b6c74ec8b56fada3341e';\n\nexport const patchRequestOptions = {\n  method: 'PATCH',\n};\n","import { useState, useEffect, useContext } from 'react';\nimport { Pagination, Table } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { URL } from '../../data/variables';\nimport { AppContext } from '../App/App';\nimport 'antd/dist/antd.css';\n\nexport default function UsersList({ selectedGender, defaultGender }) {\n  const pageSize = 10;\n  const columns = [\n    {\n      title: 'ID',\n      dataIndex: 'id',\n    },\n    {\n      title: 'Name',\n      dataIndex: 'name',\n    },\n    {\n      title: 'Gender',\n      dataIndex: 'gender',\n    },\n    {\n      title: 'Status',\n      dataIndex: 'status',\n    },\n  ];\n  let [users, setUsers] = useState([]);\n  let [page, setPage] = useState(1);\n  let [usersToShow, setUsersToShow] = useState(users.slice(0, pageSize));\n  let { setCurUser } = useContext(AppContext);\n\n  useEffect(() => {\n    setUsersToShow(users.slice((page - 1) * pageSize, page * pageSize));\n  }, [users, page]);\n\n  function onChange(currentPage) {\n    setPage(currentPage);\n  }\n\n  // let paginationInfo;\n\n  useEffect(() => {\n    let requestURL;\n    if (selectedGender === defaultGender) {\n      requestURL = URL;\n    } else {\n      requestURL = `${URL}?gender=${selectedGender}`;\n    }\n    fetch(requestURL)\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        // paginationInfo = data.meta.pagination;\n        setUsers(data.data);\n      })\n      .catch(err => {\n        console.error('there was some error:', err);\n      });\n  }, [selectedGender]);\n\n  if (users.length === 0) {\n    return <>Sorry, but no data loaded</>;\n  } else {\n    return (\n      <>\n        <Link to=\"/edit\">\n          <Table\n            onRow={record => {\n              return {\n                onClick: event => {\n                  setCurUser(record);\n                },\n              };\n            }}\n            style={{ width: '90vw', cursor: 'pointer' }}\n            columns={columns}\n            size=\"middle\"\n            dataSource={usersToShow}\n            pagination={false}\n          />\n        </Link>\n\n        <Pagination\n          size=\"small\"\n          onChange={onChange}\n          total={users.length}\n          showTotal={total => `Total ${total} items`}\n          pageSize={pageSize}\n          defaultCurrent={page}\n        />\n      </>\n    );\n  }\n}\n","import { useState } from 'react';\nimport Filter from '../Filter/Filter';\nimport UsersList from '../UsersList/UsersList';\nimport './Users.css';\n\nexport default function Users() {\n  const defaultGender = 'all';\n  let [selectedGender, setSelectedGender] = useState(defaultGender);\n  return (\n    <section className=\"users\">\n      <Filter selectedGender={selectedGender} setSelectedGender={setSelectedGender} />\n      <UsersList selectedGender={selectedGender} defaultGender={defaultGender} />\n    </section>\n  );\n}\n","import React, { useState, useContext } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { Select, Form, Input, Button } from 'antd';\nimport { patchRequestOptions, URL, API_KEY } from '../../data/variables';\nimport { AppContext } from '../App/App';\nimport 'antd/dist/antd.css';\nimport './Editor.css';\n\nconst { Option } = Select;\n\nexport default function Editor() {\n  let [isUpdated, setIsUpdated] = useState(false);\n  let { curUser, setCurUser } = useContext(AppContext);\n  const [form] = Form.useForm();\n  const formItemLayout = {\n    labelCol: {\n      xs: {\n        span: 24,\n      },\n      sm: {\n        span: 8,\n      },\n    },\n    wrapperCol: {\n      xs: {\n        span: 24,\n      },\n      sm: {\n        span: 16,\n      },\n    },\n  };\n\n  function submitForm(value) {\n    let requestURL = `${URL}/${curUser.id}?access-token=${API_KEY}&name=${value.username}&email=${value.email}&gender=${value.gender}`;\n    fetch(requestURL, patchRequestOptions)\n      .then(response => {\n        if (response.status === 200) {\n          setIsUpdated(true);\n          setCurUser(null);\n        }\n        return response.json();\n      })\n      .then(data => {})\n      .catch(err => {\n        console.error('there was some error:', err);\n      });\n  }\n\n  if (curUser === null) {\n    return <h2>No data to edit</h2>;\n  } else if (isUpdated) {\n    return <Redirect to=\"/users\" />;\n  } else {\n    return (\n      <Form\n        style={{ width: '90vw', margin: 'auto' }}\n        {...formItemLayout}\n        form={form}\n        name=\"basic\"\n        initialValues={{\n          username: curUser.name,\n          email: curUser.email,\n          gender: curUser.gender,\n        }}\n        onFinish={submitForm}\n        requiredMark={false}\n      >\n        <h2>Please, update user</h2>\n        <Form.Item\n          label=\"Username\"\n          name=\"username\"\n          shouldUpdate={true}\n          rules={[\n            {\n              required: true,\n              message: 'Please input your username!',\n            },\n          ]}\n        >\n          <Input style={{ width: 300 }} />\n        </Form.Item>\n        <Form.Item\n          label=\"Email\"\n          name=\"email\"\n          shouldUpdate={true}\n          rules={[\n            {\n              required: true,\n              message: 'Please input your email!',\n            },\n          ]}\n        >\n          <Input style={{ width: 320 }} />\n        </Form.Item>\n        <Form.Item\n          label=\"Gender\"\n          name=\"gender\"\n          shouldUpdate={true}\n          rules={[\n            {\n              required: true,\n              message: 'Please input gender!',\n            },\n          ]}\n        >\n          <Select style={{ width: 120 }}>\n            <Option value=\"male\">male</Option>\n            <Option value=\"female\">female</Option>\n          </Select>\n        </Form.Item>\n        <Form.Item\n          wrapperCol={{\n            xs: {\n              span: 24,\n              offset: 0,\n            },\n            sm: {\n              span: 16,\n              offset: 8,\n            },\n          }}\n        >\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n","import { Link } from 'react-router-dom';\nimport { Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport './Welcome.css';\n\nexport default function Welcome() {\n  return (\n    <main>\n      <h1>Welcome to Users test project</h1>\n      <Link to=\"/users\">\n        <Button>Start</Button>\n      </Link>\n    </main>\n  );\n}\n","import React, { useState, createContext } from 'react';\nimport { BrowserRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport Users from '../Users/Users';\nimport Editor from '../Editor/Editor';\nimport Welcome from '../Welcome/Welcome';\n\nexport let AppContext = createContext(null);\n\nexport default function App() {\n  let [curUser, setCurUser] = useState(null);\n  return (\n    <div>\n      <AppContext.Provider\n        value={{\n          curUser,\n          setCurUser,\n        }}\n      >\n        <BrowserRouter>\n          <Switch>\n            <Route path=\"/\" exact component={Welcome} />\n            <Route path=\"/users\" component={Users} />\n            <Route path=\"/edit\" component={Editor} />\n            <Redirect to=\"/\" />\n          </Switch>\n        </BrowserRouter>\n      </AppContext.Provider>\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}